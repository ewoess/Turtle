<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Turtle</title>
  <link rel="stylesheet" href="src/styles/main.css">
</head>
<body>
  <header>
    <h1>Turtle</h1>
    <span class="chip" style="margin-left:auto;color:#9bd7be">FD, BK, RT, LT, PU, PD, HOME, CS, SETPOS x y, SETHEADING d, PENCOLOR r g b, PENSIZE n, RAINBOW ON/OFF, HUESTEP n, ZOOM IN/OUT, REPEAT n [ ‚Ä¶ ] ‚Ä¢ Right-click + drag to pan</span>
  </header>
  <div class="wrap">
    <section class="left">
      <div class="panel toolbar">
        <button id="runBtn">Run</button>
        <button id="stepBtn">Step</button>
        <button id="resetBtn">Reset</button>
        <button id="toggleCommandsBtn" title="Toggle Commands List (Ctrl+Shift+C)">üìã</button>
        <label>Speed <input id="speed" type="range" min="0" max="300" value="150"/></label>
        <label>Pen size <input id="pensize" type="number" min="1" max="12" value="6" style="width:56px"></label>
        <label>Pen color <input id="pencolor" type="color" value="#33ffaa"><span id="rainbowIndicator" style="display:none;margin-left:8px;color:#ff6b6b">üåà</span></label>
        <label>Zoom <input id="zoomSlider" type="range" min="0.001" max="100" step="0.01" value="1" style="width:80px"></label>
        <button id="toggleGridBtn" title="Toggle Grid">üî≤</button>
        <button id="resetViewBtn" title="Reset View to Center">üè†</button>
      </div>
      <textarea id="editor" spellcheck="false"></textarea>
      <div class="help">
        <details id="commandsDetails" open>
          <summary>Commands</summary>
          <div>
            <p><code>FD n</code> / <code>BK n</code> ‚Äî forward/back <em>n</em> px</p>
            <p><code>RT a</code> / <code>LT a</code> ‚Äî turn right/left <em>a</em> degrees</p>
            <p><code>PU</code> / <code>PD</code> ‚Äî pen up/down</p>
            <p><code>HOME</code> ‚Äî go to (0,0), heading 0 (up)</p>
            <p><code>CS</code> ‚Äî clear screen</p>
            <p><code>SETPOS x y</code> ‚Äî move to x,y (center = 0,0; +y up)</p>
            <p><code>SETHEADING d</code> ‚Äî 0 up, 90 right (Logo‚Äëstyle)</p>
            <p><code>PENCOLOR r g b</code> ‚Äî set pen (0‚Äë255)</p>
            <p><code>PENSIZE n</code> ‚Äî 1..12</p>
            <p><code>RAINBOW ON/OFF</code> ‚Äî auto‚Äëcycle color each segment</p>
            <p><code>HUESTEP n</code> ‚Äî hue step in degrees (default 5)</p>
            <p><code>ZOOM IN</code> / <code>ZOOM OUT</code> ‚Äî zoom in/out by 1.5x</p>
            <p><code>REPEAT n [ ... ]</code> ‚Äî supports nesting</p>
            <p><strong>Navigation:</strong> Middle mouse drag to pan, mouse wheel to zoom, Ctrl+Home to reset view</p>
            <p><strong>Touchpad:</strong> Right-click + drag to pan, two-finger drag to pan, Shift + arrow keys to pan</p>
          </div>
        </details>
        <details>
          <summary>Examples</summary>
          <pre id="examples" style="white-space:pre-wrap;color:#cfe8ff"></pre>
        </details>
      </div>
      <div class="status">
        <div class="light" id="light"></div>
        <div id="statusText">Ready.</div>
      </div>
    </section>
    <section class="canvas-wrap">
      <div id="three"></div>
      <div class="overlay">
        <span class="chip">Pos: <span id="posLbl">0,0</span></span>
        <span class="chip">Head: <span id="headLbl">0¬∞</span></span>
      </div>
    </section>
  </div>

  <script type="module" src="src/js/main.js"></script>
</body>
</html>
